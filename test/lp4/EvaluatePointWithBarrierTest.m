classdef EvaluatePointWithBarrierTest< matlab.unittest.TestCase
    
    methods (Test)

        function testPositivePoint(testCase)
            import lp4util.evaluatePointWithBarrier
             
            syms x1 x2 x3 x4 x5 x6 x7 x8 x9 x10 x11 x12;
            symbols = {x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11, x12};
            barrier = x3*( 1.0006499994525422*x3 + 0.0006499999999998994*x6 ) + x4*(0.0020360452039992023*x1 - 0.000544321621037731*x11 + 0.00037500010850529997*x4 - 0.0003749999999934132*x8 ) + x5*(0.0005443216210414734*x10 + 0.0020360452040066417*x2 + 0.0003750001085053988*x5 + 0.00037500000000099617*x7 ) + x6*(0.0006499999999999839*x3 + 0.0006500005478254101*x6 ) + x10*(0.7022142099172516*x10 + 1.4544790092667315*x2 + 0.0005443216210415*x5 + 0.5540047616343005*x7 ) + x7*(0.5540047616343005*x10 + 1.0020360446146714*x2 + 0.0003750000000010419*x5 + 1.4518986408777725*x7 ) + x1*(5.440501528402005*x1 - 1.4544790092668254*x11 + 0.0020360452039995197*x4 - 1.0020360446148653*x8 ) + x2*(1.4544790092667312*x10 + 5.4405015284021045*x2 + 0.00203604520400671*x5 + 1.0020360446146714*x7 ) + x11*(-1.4544790092668256*x1 + 0.7022142099172292*x11 - 0.0005443216210377589*x4 + 0.5540047616342495*x8 ) + x8*(-1.0020360446148653*x1 + 0.5540047616342497*x11 - 0.0003749999999934508*x4 + 1.4518986408776808*x8 ) + x12*(0.03256070105692735*x12 + 0.03250000000000153*x9) + x9*(0.03250000000000156*x12 + 1.0324411530510036*x9) - 1;
            point = {1, 1, 1, 100, 100, 100, 300, 300, 1000, 200, 200, 2000};
            
            testCase.verifyGreaterThanOrEqual(evaluatePointWithBarrier(barrier, symbols, point), 0);
        end
        
    end % methods (Test)
end